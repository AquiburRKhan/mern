<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for app/stores/ArticleStore.jsx</title>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="../../prettify.css" />
    <link rel="stylesheet" href="../../base.css" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style type='text/css'>
        .coverage-summary .sorter {
            background-image: url(../../sort-arrow-sprite.png);
        }
    </style>
</head>
<body>
<div class='wrapper'>
  <div class='pad1'>
    <h1>
      <a href="../../index.html">all files</a> / <a href="index.html">app/stores/</a> ArticleStore.jsx
    </h1>
    <div class='clearfix'>
      <div class='fl pad1y space-right2'>
        <span class="strong">40% </span>
        <span class="quiet">Statements</span>
        <span class='fraction'>26/65</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">30% </span>
        <span class="quiet">Branches</span>
        <span class='fraction'>3/10</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">8% </span>
        <span class="quiet">Functions</span>
        <span class='fraction'>2/25</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">39.06% </span>
        <span class="quiet">Lines</span>
        <span class='fraction'>25/64</span>
      </div>
    </div>
  </div>
  <div class='status-line low'></div>
<pre><table class="coverage">
<tr><td class="line-count quiet">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131</td><td class="line-coverage quiet"><span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">"use strict";
&nbsp;
var _Authentication = require("./../services/Authentication");
&nbsp;
var _Authentication2 = _interopRequireDefault(_Authentication);
&nbsp;
function _interopRequireDefault(obj) { return obj &amp;&amp; obj.__esModule ? <span class="branch-0 cbranch-no" title="branch not covered" >obj </span>: { default: obj }; }
&nbsp;
var _require = require("./RestAPI_Helper.js");      // Line 2: let {get, post, del, put} = require("./RestAPI_Helper.js");
&nbsp;
var get = _require.get;                     // Line 2: let {get, post, del, put} = require("./RestAPI_Helper.js");
var post = _require.post;                   // Line 2: let {get, post, del, put} = require("./RestAPI_Helper.js");
var del = _require.del;                     // Line 2: let {get, post, del, put} = require("./RestAPI_Helper.js");
var put = _require.put;                     // Line 2: let {get, post, del, put} = require("./RestAPI_Helper.js");
&nbsp;
&nbsp;
function ArticleStore() {
&nbsp;
  var articleList = {},     // Line 7:   let articleList = {},
      changeListeners = [],     // Line 8:     changeListeners = [],
      article = {},             // Line 9:     article = {},
      error = '',               // Line 10:     error = '',
      articleDeleted = 'false';     // Line 11:     articleDeleted = 'false';
&nbsp;
<span class="fstat-no" title="function not covered" >  function triggerListeners() {</span>
<span class="cstat-no" title="statement not covered" >    changeListeners.forEach(<span class="fstat-no" title="function not covered" >function (listener) {</span>       // Line 14:     changeListeners.forEach(function(listener) {</span>
<span class="cstat-no" title="statement not covered" >      listener();</span>
    });                                                 // Line 14:     changeListeners.forEach(function(listener) {
  };                                                    // Line 13:   function triggerListeners() {
<span class="fstat-no" title="function not covered" >  function fetchArticleList() {</span>
<span class="cstat-no" title="statement not covered" >    get("/api/articles").then(<span class="fstat-no" title="function not covered" >function (data) {</span>         // Line 19:     get("/api/articles").then((data) =&gt; {</span>
<span class="cstat-no" title="statement not covered" >      articleList = data;</span>
<span class="cstat-no" title="statement not covered" >      triggerListeners();</span>
    });                                                 // Line 19:     get("/api/articles").then((data) =&gt; {
  }
<span class="fstat-no" title="function not covered" >  function fetchArticle(id) {</span>
<span class="cstat-no" title="statement not covered" >    get("api/articles/" + id).then(<span class="fstat-no" title="function not covered" >function (data) {</span>        // Line 25:     get(`api/articles/${id}`).then((data) =&gt; {</span>
<span class="cstat-no" title="statement not covered" >      article = data;</span>
<span class="cstat-no" title="statement not covered" >      triggerListeners();</span>
    });                                                     // Line 25:     get(`api/articles/${id}`).then((data) =&gt; {
  };                                                        // Line 24:   function fetchArticle(id) {
&nbsp;
<span class="fstat-no" title="function not covered" >  function addArticle(article, history) {</span>
<span class="cstat-no" title="statement not covered" >    post("/api/articles", article).then(<span class="fstat-no" title="function not covered" >function (g) {</span>      // Line 32:     post("/api/articles", article).then((g) =&gt; {</span>
<span class="cstat-no" title="statement not covered" >      article._id = g._id;</span>
<span class="cstat-no" title="statement not covered" >      history.pushState(null, '/articles/' + g._id);</span>
    }).catch(<span class="fstat-no" title="function not covered" >function (err) {</span>                               // Line 35:     }).catch((err) =&gt; {
<span class="cstat-no" title="statement not covered" >      if (err.status == 401) {</span>
<span class="cstat-no" title="statement not covered" >        error = err.message;</span>
<span class="cstat-no" title="statement not covered" >        authCheck(history);</span>
      }
    });                                             // Line 32:     post("/api/articles", article).then((g) =&gt; {
  }
&nbsp;
<span class="fstat-no" title="function not covered" >  function editArticle(article, id, history) {</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >    put("api/articles/" + id, article).then(<span class="fstat-no" title="function not covered" >function (data) {</span>       // Line 45:     put(`api/articles/${id}`, article).then((data) =&gt; {</span>
<span class="cstat-no" title="statement not covered" >      article = data;</span>
<span class="cstat-no" title="statement not covered" >      triggerListeners();</span>
<span class="cstat-no" title="statement not covered" >      history.pushState(null, '/articles/' + data._id);</span>
    }).catch(<span class="fstat-no" title="function not covered" >function (err) {</span>                                       // Line 49:     }).catch((err) =&gt; {
<span class="cstat-no" title="statement not covered" >      if (err.status == 401) {</span>
<span class="cstat-no" title="statement not covered" >        error = err.message;</span>
<span class="cstat-no" title="statement not covered" >        authCheck(history);</span>
      }
    });                                                     // Line 45:     put(`api/articles/${id}`, article).then((data) =&gt; {
  }
&nbsp;
<span class="fstat-no" title="function not covered" >  function deleteArticle(id, history) {</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >    del("api/articles/" + id).then(<span class="fstat-no" title="function not covered" >function (g) {</span>       // Line 59:     del(`api/articles/${id}`).then((g) =&gt; {</span>
<span class="cstat-no" title="statement not covered" >      articleDeleted = 'true';</span>
<span class="cstat-no" title="statement not covered" >      triggerListeners();</span>
<span class="cstat-no" title="statement not covered" >      history.pushState(null, '/articles');</span>
    }).catch(<span class="fstat-no" title="function not covered" >function (err) {</span>                           // Line 63:     }).catch((err) =&gt; {
<span class="cstat-no" title="statement not covered" >      if (err.status == 401) {</span>
<span class="cstat-no" title="statement not covered" >        error = err.message;</span>
<span class="cstat-no" title="statement not covered" >        authCheck(history);</span>
      }
    });                                         // Line 59:     del(`api/articles/${id}`).then((g) =&gt; {
  }
&nbsp;
<span class="fstat-no" title="function not covered" >  function getArticleList() {</span>
<span class="cstat-no" title="statement not covered" >    return articleList;</span>
  };                            // Line 71:   function getArticleList() {
&nbsp;
<span class="fstat-no" title="function not covered" >  function getArticle() {</span>
<span class="cstat-no" title="statement not covered" >    articleDeleted = 'false';</span>
<span class="cstat-no" title="statement not covered" >    return article;</span>
  };                    // Line 75:   function getArticle() {
&nbsp;
<span class="fstat-no" title="function not covered" >  function articleDeletionStatus() {</span>
<span class="cstat-no" title="statement not covered" >    return articleDeleted;</span>
  };            // Line 80:   function articleDeletionStatus() {
&nbsp;
<span class="fstat-no" title="function not covered" >  function onChange(listener) {</span>
<span class="cstat-no" title="statement not covered" >    changeListeners.push(listener);</span>
  }
&nbsp;
<span class="fstat-no" title="function not covered" >  function removeChangeListener(listener) {</span>
<span class="cstat-no" title="statement not covered" >    var index = changeListeners.findIndex(<span class="fstat-no" title="function not covered" >function (i) {</span>        // Line 89:     var index = changeListeners.findIndex(i =&gt; i === listener);</span>
<span class="cstat-no" title="statement not covered" >      return i === listener; </span>                                   // Line 89:     var index = changeListeners.findIndex(i =&gt; i === listener);
    });                                                         // Line 89:     var index = changeListeners.findIndex(i =&gt; i === listener);
<span class="cstat-no" title="statement not covered" >    changeListeners.splice(index, 1);</span>
  }
<span class="fstat-no" title="function not covered" >  function authCheck(history) {</span>
<span class="cstat-no" title="statement not covered" >    _Authentication2.default.logout(); </span>                 // Line 93:     auth.logout();
<span class="cstat-no" title="statement not covered" >    history.pushState(null, '/signin', { session: false }); </span>    // Line 94:     history.pushState(null, '/signin', {session: false});
  }
&nbsp;
<span class="fstat-no" title="function not covered" >  function getError() {</span>
<span class="cstat-no" title="statement not covered" >    return error;</span>
  };                                            // Line 97:   function getError() {
&nbsp;
  return {
    onChange: onChange,
    removeChangeListener: removeChangeListener,
    fetchArticle: fetchArticle,
    getError: getError,
    addArticle: addArticle,
    editArticle: editArticle,
    getArticleList: getArticleList,
    getArticle: getArticle,
    deleteArticle: deleteArticle,
    fetchArticleList: fetchArticleList,
    articleDeletionStatus: articleDeletionStatus
  };                                    // Line 101:   return {
}                                       // Line 5: function ArticleStore() {
&nbsp;
module.exports = new ArticleStore();
// SourceMap was distributed to comments by gulp-jsx-coverage</pre></td></tr>
</table></pre>
<div class='push'></div><!-- for sticky footer -->
</div><!-- /wrapper -->
<div class='footer quiet pad2 space-top1 center small'>
  Code coverage
  generated by <a href="http://istanbul-js.org/" target="_blank">istanbul</a> at Thu Mar 03 2016 16:05:42 GMT+0600 (BDT)
</div>
</div>
<script src="../../prettify.js"></script>
<script>
window.onload = function () {
        if (typeof prettyPrint === 'function') {
            prettyPrint();
        }
};
</script>
<script src="../../sorter.js"></script>
</body>
</html>
